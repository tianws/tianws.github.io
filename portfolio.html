---
layout: page_wide
title: "Portfolio"
permalink: /portfolio/
description: "A showcase of my projects and capabilities."
header-img: "img/home-bg-2.jpg"
hide-in-nav: true
draft: true
---

<div class="portfolio-container">

  <div class="portfolio-title">
    <h1>精选作品</h1>
    <p>以下是我在自动驾驶感知领域主导和参与的核心项目。</p>
  </div>

  <!-- Project Grid: Loop through projects from the data file -->
  <div class="project-grid">
    {% for project in site.data.projects %}
      <div class="project-card">
        <div class="project-card-image">
          <picture>
            {%- assign img_webp = project.image | replace: ".jpg", ".webp" | replace: ".jpeg", ".webp" | replace: ".png", ".webp" -%}
            <source srcset="{{ site.baseurl }}{{ img_webp }}" type="image/webp">
            {% if project.image contains '.jpg' or project.image contains '.jpeg' %}
              <source srcset="{{ site.baseurl }}{{ project.image }}" type="image/jpeg">
            {% elsif project.image contains '.png' %}
              <source srcset="{{ site.baseurl }}{{ project.image }}" type="image/png">
            {% endif %}
            <img src="{{ site.baseurl }}{{ project.image }}" alt="{{ project.title }} cover image">
          </picture>
        </div>
        <div class="project-card-content">
          <h3 class="project-card-title">{{ project.title }}</h3>
          <div class="project-card-tags">
            {% for tag in project.tags %}
              <span class="tag">{{ tag }}</span>
            {% endfor %}
          </div>
          <p class="project-card-description">{{ project.description }}</p>
          <div class="project-card-footer">
            <button class="btn" data-toggle="modal" data-target="#portfolioModal{{ project.id }}">了解更多</button>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- Modals: Loop through projects again to create modals -->
{% for project in site.data.projects %}
<div class="modal fade" id="portfolioModal{{ project.id }}" tabindex="-1" role="dialog" aria-labelledby="portfolioModal{{ project.id }}Label" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="portfolioModal{{ project.id }}Label">{{ project.title }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
        
        <!-- Meta Section -->
        <div class="project-meta">
          <div class="meta-item"><strong><i class="fa-fw fas fa-user-tie"></i> 我的角色:</strong> {{ project.modal_role }}</div>
          <div class="meta-item"><strong><i class="fa-fw fas fa-calendar-alt"></i> 时间周期:</strong> {{ project.modal_period }}</div>
        </div>

        <!-- Visuals Section (Conditional) -->
        {% if project.video or project.gallery %}
        <div class="detail-section">
          <h4><i class="fa-fw fas fa-photo-film"></i> 效果展示</h4>
          <div class="visual-showcase">
            {% if project.video %}
              {% include local_video.html src=project.video poster=project.poster %}
            {% elsif project.gallery %}
              <div class="image-gallery">
                {% for img in project.gallery %}
                  <picture>
                    {%- assign img_webp = img | replace: ".jpg", ".webp" | replace: ".jpeg", ".webp" | replace: ".png", ".webp" -%}
                    <source srcset="{{ site.baseurl }}{{ img_webp }}" type="image/webp">
                    {% if img contains '.jpg' or img contains '.jpeg' %}
                      <source srcset="{{ site.baseurl }}{{ img }}" type="image/jpeg">
                    {% elsif img contains '.png' %}
                      <source srcset="{{ site.baseurl }}{{ img }}" type="image/png">
                    {% endif %}
                    <img src="{{ site.baseurl }}{{ img }}" alt="Gallery Image for {{ project.title }}">
                  </picture>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
        {% endif %}

        <!-- Achievements Section -->
        <div class="detail-section">
          <h4><i class="fa-fw fas fa-award"></i> 核心成果</h4>
          {{ project.modal_achievements | markdownify }}
        </div>

        <!-- Challenges & Solution Section -->
        <div class="detail-section">
          <div class="challenge-solution-item">
            <h4 class="challenge-title"><i class="fa-fw fas fa-bullseye"></i> 核心挑战</h4>
            <ul class="details-list">
              {% for item in project.modal_challenge %}
                <li>{{ item | markdownify | remove: '<p>' | remove: '</p>' }}</li>
              {% endfor %}
            </ul>
          </div>
          <div class="challenge-solution-item">
            <h4 class="solution-title"><i class="fa-fw fas fa-key"></i> 我的对策</h4>
            <ul class="details-list">
              {% for item in project.modal_solution %}
                <li>{{ item | markdownify | remove: '<p>' | remove: '</p>' }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>

        <!-- Tech Stack Section -->
        <div class="detail-section">
          <h4><i class="fa-fw fas fa-cogs"></i> 技术栈</h4>
          <div class="project-card-tags tech-tags">
            {% for tag in project.modal_stack %}
              <span class="tag">{{ tag }}</span>
            {% endfor %}
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
{% endfor %}
